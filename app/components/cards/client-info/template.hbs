<div local-class="client-info-card {{@client.type}}">
  <LinkTo @route="authenticated.client" @model={{@client.id}} local-class="client-info-header">
    <span local-class="thumbnail">
      {{fa-icon "users"}}
    </span>
    <div local-class="title {{if this.isEmptyTitle 'empty-title'}}">
      {{#if this.isEmptyTitle}}
        {{t 'noName'}}
      {{else}}
        {{@client.name}}
      {{/if}}
    </div>
  </LinkTo>
  <div local-class="client-info-body">

    <div local-class="client-activities">
      <div local-class="last-upload activity">
        <span local-class="label">{{t 'lastUpload'}}</span>
        <span data-elem-last-uploaded>
          {{#if @client.lastUploadedOn}}
            {{dayjs-from-now @client.lastUploadedOn}}
          {{else}}
            {{t 'noUploads'}}
          {{/if}}
        </span>
      </div>

      {{#if this.partner.access.view_plans}}
        <div local-class="payment-container" {{did-insert (perform this.getClientPlan)}}>
          {{#if this.getClientPlan.isRunning}}
            <div local-class="loading">{{fa-icon "circle-o-notch fa-spin"}}</div>
          {{else}}
            <Partner::ClientInfo::Plan @clientPlan={{this.clientPlan}}></Partner::ClientInfo::Plan>
          {{/if}}
        </div>
      {{/if}}

    </div>
  </div>
</div>