{{#if this.me.org.is_admin}}
  <AkStack
    @direction='column'
    @width='9/12'
    data-test-vulnerability-list-container
  >
    <AkTypography
      @variant='h5'
      @color='textPrimary'
      data-test-vulnerability-list-header-text
    >
      {{t 'vulnerabilityPreferences'}}
    </AkTypography>

    <AkTypography class='mt-1' @variant='body2' @color='textSecondary'>
      {{t 'vulnerabilityPreferencesEdit'}}
    </AkTypography>

    <AkStack
      local-class='warning-message'
      class='px-1 py-2 my-2'
      @width='full'
      @justifyContent='center'
      @spacing='1'
    >
      <AkIcon @iconName='warning' @color='error' />

      <AkTypography
        @variant='subtitle1'
        @color='textPrimary'
        data-test-vulnerability-list-warning-pref-conditions
      >
        {{t 'warning'}}:

        <AkTypography @tag='span' @variant='body1' @color='textPrimary'>
          {{t 'vulnerabilityPreferencesCondition'}}
        </AkTypography>
      </AkTypography>
    </AkStack>

    {{#if this.fetchVulnerabilityPreferences.isRunning}}
      <ProjectSettings::Loader />

    {{else}}
      <AkTable
        data-test-prjSettings-analysisSettings-vulnPreference-list
        as |t|
      >
        <t.head
          data-test-prjSettings-analysisSettings-vulnPreference-list-thead
          @columns={{this.columns}}
        />

        <t.body @rows={{this.vulnerabilityPreferences}} as |b|>
          <b.row
            data-test-prjSettings-analysisSettings-vulnPreference-list-row
            as |r|
          >
            <r.cell
              data-test-prjSettings-analysisSettings-vulnPreference-list-cell
            >
              {{#let (component r.columnValue.component) as |Component|}}
                <Component
                  @vulnerabilityPreference={{r.rowValue}}
                  @setVulnerabilityDataModel={{this.setVulnerabilityDataModel}}
                />
              {{/let}}
            </r.cell>
          </b.row>
        </t.body>
      </AkTable>

      <AnalysisRisk::OverrideEditDrawer
        @dataModel={{this.vulnerabilityDataModel}}
        @open={{this.openOverrideEditDrawer}}
        @onClose={{this.handleOverrideEditDrawerClose}}
      />
    {{/if}}
  </AkStack>
{{/if}}