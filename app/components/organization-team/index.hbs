{{! template-lint-disable no-partial }}
<AkStack class='py-3' @alignItems='center' @justifyContent='space-between'>
  <div {{style width='300px'}}>
    <AkTextField
      data-test-orgTeamSearch-input
      @placeholder={{t 'searchTeam'}}
      {{on 'keyup' (perform this.handleSearchInputKeyUp)}}
    >
      <:leftAdornment>
        <AkIcon @iconName='search' @color='textSecondary' />
      </:leftAdornment>
    </AkTextField>
  </div>

  {{#if this.me.org.is_admin}}
    <OrganizationTeam::CreateTeam />
  {{/if}}
</AkStack>

{{#if this.hasObjects}}
  <AkStack @direction='column' @spacing='2'>
    {{#each this.sortedObjects as |team|}}
      <OrganizationTeam::Overview
        @team={{team}}
        @organization={{@organization}}
        @showTeamDetails={{perform this.handleShowTeamDetails}}
      />
    {{/each}}
  </AkStack>

  <div class='mt-3'>
    {{partial 'paginate'}}
  </div>

  <OrganizationTeam::Details
    @showTeamDetail={{this.showTeamDetails}}
    @handleTeamDetailClose={{perform this.handleTeamDetailClose}}
    @team={{this.selectedTeam}}
    @organization={{@organization}}
  />
{{else}}
  {{#if this.hasNoObject}}
    <div local-class='emtpy-container'>
      <AkSvg::OrgUsersEmpty local-class='empty-svg' />

      <AkTypography @variant='h5'>
        {{if this.me.owner.is_admin (t 'noTeams') (t 'noTeamsMember')}}
      </AkTypography>
    </div>
  {{else}}
    <div local-class='loading-container'>
      <AkStack @alignItems='center' @spacing='2'>
        <AkLoader @size={{16}} />
        <AkTypography local-class='loading-text' @color='textSecondary'>
          {{t 'loading'}}...
        </AkTypography>
      </AkStack>
    </div>
  {{/if}}
{{/if}}