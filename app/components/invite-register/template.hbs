<div class="signup-container">
  <div class="signup-form {{if success 'success'}}">
    <form class="register-form">
      <div class="register-form-container">
        <h4 class="has-text-centered">{{t "acceptInvite"}}</h4>
        <div class="input-wrap {{if changeset.error.company 'has-error'}}">
          <div class="label-error">
            <label>{{t "companyName"}}</label>
          </div>
          {{input placeholder="Company Name" readonly="readonly" disabled="disabled" value=company class="input-field"}}
        </div>
        <div class="input-wrap">
          <div class="label-error">
            <label>Official Email</label>
          </div>
          {{input placeholder="Official Email" readonly="readonly" disabled="disabled" value=email class="input-field"}}
        </div>
        {{#if (not isSSOEnforced)}}
          <div class="input-wrap">
            <div class="label-error">
              <label>{{t "name"}}</label>
            </div>
            <div class="half-wrap">
              {{input placeholder="First Name" value=changeset.firstname autocomplete="fname" autofocus="autofocus" class="input-field"}}
              {{input placeholder="Last Name" value=changeset.lastname autocomplete="lname" class="input-field"}}
            </div>
          </div>
          {{/if}}
          <div class="input-wrap {{if changeset.error.username 'has-error'}}">
            <div class="label-error">
              <label>{{t "username"}}</label>
              {{#if changeset.error.username}}
                <span class="error-msg">{{changeset.error.username.validation}}</span>
              {{/if}}
            </div>
            {{input placeholder="Username" value=changeset.username autocomplete="username" class="input-field"}}
          </div>
          {{#if (not isSSOEnforced)}}
          <div class="input-wrap {{if changeset.error.phone 'has-error'}}">
            <div class="label-error">
              <label>Phone Number</label>
              {{#if changeset.error.phone}}
                <span class="error-msg">{{changeset.error.phone.validation}}</span>
              {{/if}}
            </div>
            {{intl-tel-input geoIpLookup=(action "geoIpLookupFunc") initialCountry="auto" selectedCountryData=selectedCountryData value=changeset.phone autocomplete="phone" class="input-field"}}
          </div>
          <div class="input-wrap">
            <div class="label-error">
              <label>{{t "password"}}</label>
              {{#if changeset.error.password}}
                <span class="error-msg">{{changeset.error.password.validation}}</span>
              {{else if changeset.error.passwordConfirmation}}
                <span class="error-msg">{{changeset.error.passwordConfirmation.validation}}</span>
              {{/if}}
            </div>
            {{input classNameBindings="changeset.error.password:has-error" type="password" value=changeset.password placeholder='Mininum 6 characters' class="input-field"}}{{input classNameBindings="changeset.error.passwordConfirmation:has-error" type="password" value=changeset.passwordConfirmation placeholder='Confirm Password' class="input-field"}}
          </div>
        {{/if}}
        <div class="input-wrap {{if changeset.error.termsAccepted 'has-error'}}">
          <div class="label-error">
            <label class="register-form-accept">
              {{input id="terms-accepted" type="checkbox" checked=changeset.termsAccepted class="checkbox-field"}}
              <span>{{t "acceptTerms"}}
                <a href="https://appknox.com/privacy" target="_blank">
                  <sup>*</sup>
                </a>
              </span>
            </label>
            {{#if changeset.error.termsAccepted}}
              <span class="error-msg">
                <a href="https://appknox.com/privacy" target="_blank">{{changeset.error.termsAccepted.validation}}</a>
              </span>
            {{/if}}
          </div>
        </div>
        <p class="control flex-center margin-top">
          <button {{action "register" changeset}} class="button is-primary is-fullwidth login-button mp-login-button highlighted-button">{{t "register"}}</button>
        </p>
      </div>
    </form>
    <div class="register-confirm">{{fa-icon "check-circle" class="is-success register-confirm-icon"}}
      <p class="register-confirm-text text-centre margin-t-1">{{t "invitationRegisterConfirmation"}}</p>
      <div class="align-center margin-t-1h">
        {{#link-to "login" class="button is-default font-medium padding-v-1 padding-h-1h"}}
          {{t "login"}}
          {{fa-icon "arrow-right" class="margin-l-h"}}
        {{/link-to}}
      </div>
    </div>
  </div>
</div>