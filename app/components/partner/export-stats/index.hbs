{{! template-lint-disable no-curly-component-invocation }}
<div>
  <div local-class='header' data-test-header>
    {{t 'downloadClientsStatData'}}
  </div>
  <div local-class='body'>
    <div local-class='date-range-picker' data-test-date-range-picker-container>
      <DatePicker
        @range={{true}}
        @value={{this.dateRange}}
        @maxDate={{this.maxDate}}
        @onChange={{this.updateDateRange}}
        @options={{this.datepickerOptions}}
        data-test-date-range-picker
        as |selectedDates|
      >
        <div local-class='date-range' data-test-date-range>
          <AkIcon
            data-test-date-range-icon
            @iconName='calendar-month'
            @size='small'
            class='font-small'
            title='Select date range'
          />
          <span data-test-date-range-selected>
            <span local-class='date' data-test-from-date>
              {{#if selectedDates.firstObject}}
                {{day-js date=selectedDates.firstObject format='DD/MM/YYYY'}}
              {{else}}
                {{t 'fromDate'}}
              {{/if}}

            </span>
            <span>
              -
            </span>
            <span local-class='date' data-test-to-date>
              {{#if selectedDates.lastObject}}
                {{day-js date=selectedDates.lastObject format='DD/MM/YYYY'}}
              {{else}}
                {{t 'toDate'}}
              {{/if}}
            </span>
          </span>
        </div>
      </DatePicker>
    </div>
    <AkButton
      class='is-primary button margin-left highlighted-button'
      {{on 'click' this.downloadCSV}}
      @loading={{this.fetchDownloadUrl.isRunning}}
      @disabled={{this.fetchDownloadUrl.isRunning}}
      data-test-export-btn
    >
      {{t 'exportCSV'}}
    </AkButton>
  </div>
</div>