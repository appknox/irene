<AkBreadcrumbs::AutoTrail class='pt-2' />

<Admin::CommonPageHeader
  @title={{t 'multiFactorAuth'}}
  @subtitle='Lorem ipsum dolor sit amet consectetur. Amet habitant a risus mi enim amet arcu'
/>

<div class='mt-3' local-class='org-setting-mfa'>
  <AkStack @direction='column' @spacing='0.5'>
    <AkTypography @variant='h6' data-test-mfa-subtitle>
      {{t 'multiFactorAuthSubtitle'}}
    </AkTypography>

    <AkTypography
      @variant='body2'
      @color='textSecondary'
      data-test-enable-mandatory-mfa-description
    >
      {{t 'enableMandatoryMFADescription'}}
    </AkTypography>
  </AkStack>

  <AkFormControlLabel
    data-test-enable-mandatory-mfa-label
    class='my-3'
    @disabled={{this.isMfaMandateDisabled}}
    @label={{t 'enableMandatoryMFATitle'}}
    as |fcl|
  >
    <AkToggle
      @id='mandate-mfa'
      @checked={{this.organization.mandatoryMfa}}
      @disabled={{fcl.disabled}}
      @size='small'
      @onChange={{perform this.setMandatoryMFA}}
    />
  </AkFormControlLabel>

  <div class='mb-2' local-class='alert-error'>
    <AkIcon @iconName='warning' @color='error' />

    <AkTypography data-test-enable-mandatory-mfa-warning class='ml-2'>
      {{t 'enableMandatoryMFAWarning'}}
    </AkTypography>
  </div>

  {{#if this.isUserMfaDisabled}}
    <div class='mb-3' local-class='alert-warn'>
      <AkIcon @iconName='security' @color='inherit' />

      <div class='ml-3'>
        <AkTypography
          data-test-enable-mandatory-mfa-requirement
          @gutterBottom={{true}}
        >
          {{t 'enableMandatoryMFARequirement'}}
        </AkTypography>

        <AkLink
          local-class='alert-warn-link'
          @route='authenticated.dashboard.account-settings.security'
          @underline='always'
          target='_blank'
          rel='noopener noreferrer'
        >
          {{t 'accountSettings'}}
          >
          {{t 'security'}}
          >
          {{t 'multiFactorAuth'}}
        </AkLink>
      </div>
    </div>
  {{/if}}
</div>