{{#if this.initializeCapturedApiData.isRunning}}
  <AkStack @justifyContent='center' class='mt-7'>
    <div local-class='captured-api-status-card'>
      <FileDetails::ApiScan::CapturedApis::Loading />
    </div>
  </AkStack>
{{else}}
  {{! Only shows when there are actually captured APIs }}
  {{#unless this.hideCapturedApiHeader}}
    <div local-class='captured-api-header-container'>
      <FileDetails::ApiScan::CapturedApis::Header
        @file={{@file}}
        @isLoadingCapturedApis={{this.fetchCapturedApis.isRunning}}
        @allAPIsSelected={{this.allAPIsSelected}}
        @selectAllCapturedApis={{this.selectAllCapturedApis}}
        @noDomainFilterResults={{this.noDomainFilterResults}}
        @handleSelectAllCapturedApis={{this.handleSelectAllCapturedApis}}
        @onDomainFilterApply={{this.onDomainFilterApply}}
        @projectProfileApiFilters={{this.projectProfileApiFilters}}
        @autoGeneratedApiFilters={{this.autoGeneratedApiFilters}}
        @selectedAPIUrlDomain={{this.selectedAPIUrlDomain}}
      />
    </div>
  {{/unless}}

  {{#if this.isLoadingCapturedApiData}}
    <FileDetails::ApiScan::CapturedApis::ListLoading />

  {{else if this.hasNoCapturedApi}}
    {{#if this.noDomainFilterResults}}
      <AkStack
        @bgColor='white'
        @direction='column'
        @alignItems='center'
        class='p-3'
        {{style paddingBottom='4.8574em !important'}}
      >
        <AkSvg::NoApisCaptured
          class='mt-3'
          data-test-fileDetails-apiScan-capturedApisDomainFilter-emptySvg
        />

        <AkTypography
          @align='center'
          @variant='h5'
          class='mt-3'
          @gutterBottom={{true}}
          data-test-fileDetails-apiScan-capturedApisDomainFilter-emptyTitle
        >
          {{t 'apiScanModule.noApiFound'}}
        </AkTypography>

        <AkTypography
          @align='center'
          {{style maxWidth='400px'}}
          data-test-fileDetails-apiScan-capturedApisDomainFilter-emptyDescription
        >
          {{t 'apiScanModule.noApiFoundDesc'}}
        </AkTypography>
      </AkStack>
    {{else}}
      <AkStack @justifyContent='center' class='mt-7'>
        <div local-class='captured-api-status-card'>
          <FileDetails::ApiScan::CapturedApis::Empty />
        </div>
      </AkStack>
    {{/if}}
  {{else}}
    <div local-class='captured-api-list-container'>
      <AkPaginationProvider
        @results={{this.capturedApiList}}
        @onItemPerPageChange={{this.handleItemPerPageChange}}
        @totalItems={{this.totalCapturedApiCount}}
        @nextAction={{this.handlePrevNextAction}}
        @prevAction={{this.handlePrevNextAction}}
        @itemPerPageOptions={{array 10 25 50}}
        @defaultLimit={{this.limit}}
        @offset={{this.offset}}
        as |pgc|
      >
        <AkStack @direction='column' @spacing='1.5' class='mb-1'>
          {{#each pgc.currentPageResults as |ca|}}
            <AkDivider />

            <div class='px-2'>
              <FileDetails::ApiScan::CapturedApis::Overview
                @capturedApi={{ca}}
                @toggleApi={{perform this.toggleApi ca}}
                @disableToggleApi={{not @file.isActive}}
              />
            </div>
          {{/each}}
        </AkStack>

        <AkPagination
          @variant='compact'
          @disableNext={{pgc.disableNext}}
          @nextAction={{pgc.nextAction}}
          @disablePrev={{pgc.disablePrev}}
          @prevAction={{pgc.prevAction}}
          @endItemIdx={{pgc.endItemIdx}}
          @startItemIdx={{pgc.startItemIdx}}
          @itemPerPageOptions={{pgc.itemPerPageOptions}}
          @onItemPerPageChange={{pgc.onItemPerPageChange}}
          @selectedOption={{pgc.selectedOption}}
          @tableItemLabel={{t 'apis'}}
          @perPageTranslation={{t 'recordPerPage'}}
          @totalItems={{pgc.totalItems}}
        />
      </AkPaginationProvider>
    </div>
  {{/if}}
{{/if}}