<AkStack
  local-class='manual-dast-container'
  @width='full'
  @direction='column'
  @alignItems='center'
  @justifyContent='center'
  class='my-2'
>
  <AkStack
    local-class='manual-dast-header'
    @width='full'
    @alignItems='center'
    @justifyContent='space-between'
  >
    <AkTypography
      data-test-fileDetails-dynamicScan-manualDast-header-text
      @variant='h6'
      @fontWeight='bold'
    >
      {{t 'realDevice'}}
    </AkTypography>

    <AkStack @spacing='1' @alignItems='center'>
      {{#if this.showStatusChip}}
        <FileDetails::DynamicScan::StatusChip
          @file={{@file}}
          @dynamicScan={{this.dynamicScan}}
        />
      {{/if}}

      {{#if this.showActionButton}}
        <FileDetails::DynamicScan::Action
          @file={{@file}}
          @dynamicScanText={{t 'dastTabs.manualDAST'}}
          @onScanShutdown={{this.handleFullscreenClose}}
          @dynamicScan={{this.dynamicScan}}
        />
      {{/if}}

      <AkIconButton
        data-test-fileDetails-dynamicScan-manualDast-fullscreenBtn
        {{on 'click' this.toggleFullscreenView}}
      >
        <AkIcon @iconName='open-in-full' />
      </AkIconButton>
    </AkStack>
  </AkStack>

  {{#if this.isFullscreenView}}
    <AkModal
      data-test-fileDetails-dynamicScan-manualDast-fullscreenModal
      @headerTitle={{t 'realDevice'}}
      @showHeader={{true}}
      @onClose={{this.toggleFullscreenView}}
    >
      <VncViewer
        @file={{@file}}
        @profileId={{@profileId}}
        @dynamicScan={{this.dynamicScan}}
      />
    </AkModal>

  {{else}}
    <AkStack data-test-fileDetails-dynamicScan-manualDast-vncViewer class='p-3'>
      <VncViewer
        @file={{@file}}
        @profileId={{@profileId}}
        @dynamicScan={{this.dynamicScan}}
      />
    </AkStack>
  {{/if}}
</AkStack>