<AkStack
  @bgColor='white'
  @direction='column'
  @alignItems='flex-start'
  local-class='apis-captured-container'
  class='p-4'
  data-test-fileDetails-dynamicScan-results-apis-captured
>
  {{#if this.fetchCumulativeCapturedApisCount.isRunning}}
    <AkSkeleton @variant='rounded' @width='225px' @height='38px' />

    <AkStack @direction='column' class='mt-3' @spacing='0.5'>
      <AkSkeleton @variant='rounded' @width='180px' @height='14px' />
      <AkSkeleton @variant='rounded' @width='500px' @height='14px' />
    </AkStack>

    <AkSkeleton
      @variant='rectangular'
      @width='132px'
      @height='32px'
      class='mt-1'
    />
  {{else}}
    <AkSvg::ApisCapturedIllustration
      local-class={{if
        this.hasNoCumulativeCapturedApis
        'apis-captured-illustration--grayscale'
      }}
    />

    <AkStack @direction='column' class='mt-3'>
      <AkTypography
        @variant='h6'
        @fontWeight='bold'
        data-test-fileDetails-dynamicScan-results-apis-captured-header-text
      >
        {{this.capisHeaderText}}
      </AkTypography>

      <AkTypography
        @variant='body1'
        @gutterBottom={{true}}
        @color='textSecondary'
        data-test-fileDetails-dynamicScan-results-apis-captured-description-text
      >
        {{this.capisDescriptionText}}
      </AkTypography>
    </AkStack>

    <AkButton
      @color='primary'
      @disabled={{this.disableDownloadCapturedApis}}
      class='mt-1'
      {{on 'click' this.handleDownloadCapturedApis}}
      data-test-fileDetails-dynamicScan-results-apis-captured-download-btn
    >
      <:leftIcon>
        <AkIcon @iconName='description' @variant='outlined' />
      </:leftIcon>

      <:default>
        {{t 'apiScanModule.downloadApis'}}
      </:default>
    </AkButton>
  {{/if}}
</AkStack>

{{#unless this.hideDownloadCapturedApisDrawer}}
  <FileDetails::DynamicScan::Results::CapisReportDrawer
    @file={{@file}}
    @closeDrawer={{this.handleClose}}
  />
{{/unless}}