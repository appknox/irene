{{#if @loadingFileAnalyses}}
  <AkTable::Loading @columns={{this.columns}} />
{{else if this.isFinalAnalysesEmpty}}
  <AkStack
    @width='full'
    local-class='empty-container'
    @direction='column'
    @alignItems='center'
    @justifyContent='center'
    @spacing='5'
  >
    <AkSvg::NoTestCase data-test-vulnerability-analysis-emptySvg />

    <AkStack @direction='column' @alignItems='center' @spacing='1'>
      <AkTypography @variant='h6' data-test-vulnerability-analysis-emptyTitle>
        {{t 'fileVulnerabilityEmpty.title'}}
      </AkTypography>

      <div>
        <AkTypography
          @align='center'
          data-test-vulnerability-analysis-emptyDesc1
        >
          {{t 'fileVulnerabilityEmpty.description' htmlSafe=true}}
        </AkTypography>
      </div>
    </AkStack>
  </AkStack>
{{else}}
  <AkTable
    local-class='vulnerability-table'
    @hoverable={{true}}
    data-test-vulnerability-analysis-table
    as |t|
  >
    <t.head
      data-test-vulnerability-analysis-thead
      @sorts={{@sorts}}
      @onUpdateSorts={{this.updateAnalysesSorts}}
      @columns={{this.columns}}
      as |h|
    >
      <h.row as |r|>
        <r.cell as |columnValue columnMeta|>
          {{columnValue.name}}

          {{#if columnMeta.isSorted}}
            <AkIcon
              {{style verticalAlign='middle'}}
              @iconName={{if
                columnMeta.isSortedAsc
                'arrow-drop-up'
                'arrow-drop-down'
              }}
            />
          {{/if}}
        </r.cell>
      </h.row>
    </t.head>
    <t.body @rows={{this.finalSortedAnalyses}} as |b|>
      <b.row
        {{style cursor='pointer'}}
        @onClick={{this.handleAnalysisClick}}
        data-test-cy='file-analysis-{{b.rowValue.id}}'
        data-test='file-analysis-computedRisk-{{b.rowValue.computedRisk}}'
        data-test-file-analysis-isOverriddenAsPassed='{{b.rowValue.isOverriddenAsPassed}}'
        data-test-vulnerability-analysis-row
        as |r|
      >
        <r.cell data-test-vulnerability-analysis-cell as |value|>
          {{#if r.columnValue.component}}
            {{#let (component r.columnValue.component) as |Component|}}
              <Component @analysis={{r.rowValue}} />
            {{/let}}
          {{else}}
            <AkTypography>
              {{value}}
            </AkTypography>
          {{/if}}
        </r.cell>
      </b.row>
    </t.body>
  </AkTable>
{{/if}}