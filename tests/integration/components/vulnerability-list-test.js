import { test, moduleForComponent } from 'ember-qunit';
import { run } from '@ember/runloop';

moduleForComponent('vulnerability-list', 'Integration | Component | vulnerability list', {
  unit: true,
  needs: [
    'service:me',
  ]
});

test('it exists', function (assert) {
  const component = this.subject();
  var store = {
    query: function () {
      return [
        {
          id: 1,
          type: "vulnerability-preference",
          attributes: {
            name: "test"
          }
        }
      ];
    }
  };
  component.set('store', store);
  run(function () {
    assert.deepEqual(component.get("vulnerabilityPreferences"), [{
      id: 1,
      type: "vulnerability-preference",
      attributes: {
        name: "test"
      }
    }
    ]);
  });
});
